<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no">
  <title></title>
</head>
<body>
  <button class="btn-push">Pushstate And Back</button>
  <button class="btn-append">Append Random Image</button>
  <section class="images">
    <img src="https://unsplash.it/1500/600?random=1" alt="">
    <img src="https://unsplash.it/1500/600?random=2" alt="">
    <img src="https://unsplash.it/1500/600?random=3" alt="">
  </section>
 <script>
  var offset = 1000;
  var list = document.querySelector('section.images');
  window.addEventListener('popstate', function(){alert('popstate fired')});
  document.querySelector('.btn-push').addEventListener('click', function () {
    history.pushState({}, 'page pushed manually', '/foo');
    history.back()
  });
  document.querySelector('.btn-append').addEventListener('click', function () {
    var img = document.createElement('img');
    img.src = 'https://unsplash.it/1500/600?random=' + offset;
    list.prepend(img);
    offset++;
  });
 </script>
</body>
</html>
